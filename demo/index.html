<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Grid</title>
    <link rel="stylesheet" href="./index.css">
    <script type="module" src="./index.js" defer></script>
    <script src="./pica.js"></script>
    <script src="./pica-worker.js"></script>
    <script type="module" src="./picsquish.js" defer></script>
  </head>
  <body>
    <form id="filterForm">
      <span>max dimension:</span>&nbsp;<span id="max-dimension">600</span><br>
      <input class="slider" oninput="document.getElementById('max-dimension').textContent = this.value" type="range" value="600" min="0" max="10000"><br>
      <fieldset>
        <legend>filter:</legend>
        <label><input type="radio" name="filter" value="mks2013" checked> mks2013</label><br>
        <label><input type="radio" name="filter" value="box"> box</label><br>
        <label><input type="radio" name="filter" value="hamming"> hamming</label><br>
        <label><input type="radio" name="filter" value="lanczos2"> lanczos2</label><br>
        <label><input type="radio" name="filter" value="lanczos3"> lanczos3</label><br>
      </fieldset>
      <span>unsharp amount:</span>&nbsp;<span id="unsharp-amount">0</span><br>
      <input class="slider" oninput="document.getElementById('unsharp-amount').textContent = this.value" type="range" value="0" min="0" max="200"><br>
      <span>unsharp radius:</span>&nbsp;<span id="unsharp-radius">0</span><br>
      <input class="slider" oninput="document.getElementById('unsharp-radius').textContent = this.value" type="range" value="0" min="0.5" max="2" step="0.1"><br>
      <span>unsharp threshold:</span>&nbsp;<span id="unsharp-threshold">0</span><br>
      <input class="slider" oninput="document.getElementById('unsharp-threshold').textContent = this.value" type="range" value="0" min="0" max="255"><br>
      <span>tile size:</span>&nbsp;<span id="tile-size">1024</span><br>
      <input class="slider" oninput="document.getElementById('tile-size').textContent = this.value" type="range" value="1024" min="0" max="10000"><br>
      <span>max worker pool size:</span>&nbsp;<span id="pool-size">4</span><br>
      <input class="slider" oninput="document.getElementById('pool-size').textContent = this.value" type="range" value="4" min="0" max="16"><br>
      <span>max worker pool idle time:</span>&nbsp;<span id="pool-idle">2000</span><br>
      <input class="slider" oninput="document.getElementById('pool-idle').textContent = this.value" type="range" value="2000" min="0" max="10000"><br>
      <input id="use-main-thread" type="checkbox">
      <span>use main thread:</span>&nbsp;
    </form>
    <br>
    <div>
      <label for="image-upload"><b>resize with Canvas API:</b></label>
      <input type="file" id="image-upload-canvas" multiple accept="image/*">
    </div>
    <div>
      <label for="image-upload"><b>resize with pica:</b></label>
      <input type="file" id="image-upload-pica" multiple accept="image/*">
    </div>
    <div>
      <label for="image-upload"><b>resize with picsquish:</b></label>
      <input type="file" id="image-upload-picsquish" multiple accept="image/*">
    </div>
    <span>If the counter stops then main thread is blocked:</span>&nbsp;&nbsp;
    <span id="count">0</span>
    <div class="image-grid" id="image-grid-1"></div>
    <div class="image-grid" id="image-grid-2"></div>
    <div class="image-grid" id="image-grid-3"></div>
  </body>
</html>
